(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{40:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(32),s=c.n(r),l=(c(40),c(8)),o=c(3),i=c(7),j=c(18),d=c(0);function b(){return Object(d.jsxs)("div",{className:"navbar",children:[Object(d.jsx)(l.b,{className:"link left",to:"/",children:Object(d.jsx)("span",{children:"GPX\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc for Xcode"})}),Object(d.jsxs)(l.b,{className:"link",to:"/usage",children:[Object(d.jsx)(i.a,{className:"icon",icon:j.b}),Object(d.jsx)("span",{children:"\u4f7f\u3044\u65b9"})]}),Object(d.jsxs)("a",{className:"link",target:"_blank",rel:"noreferrer",href:"https://github.com/yuichisuzuki0601/gpx-generate-service",children:[Object(d.jsx)(i.a,{className:"icon",icon:j.a}),Object(d.jsx)("span",{children:"\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9 by yuichisuzuki0601"})]})]})}var h=c(20),u=c(10),O=c.n(u),p=c(19),x=c(12),g=c(34),m=c.n(g),f=c(11),v=c(35),N="AIzaSyBNNuhpqcOHvutkl0MtkbeEsxsZkUau-2s",k={_zoom:16,_center:{lat:35.6809591,lng:139.7673068},zoom:17,center:{lat:35.654958,lng:139.800315}},S=[],w=[],y=function(){return JSON.parse(localStorage.getItem("markers")||"[]")},I=function(e,t){if(S.push(new google.maps.Marker({map:e,position:t})),!(S.length<2)){var c=S[S.length-2].getPosition(),n=S[S.length-1].getPosition();c&&n&&w.push(new google.maps.Polyline({map:e,path:[c,n],strokeColor:"#00F",strokeOpacity:.5,strokeWeight:5}))}};function P(){var e=Object(n.useRef)(null),t=Object(n.useState)(""),c=Object(x.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)("bicycle"),l=Object(x.a)(s,2),o=l[0],j=l[1],b=Object(n.useState)(!1),u=Object(x.a)(b,2),g=u[0],P=u[1],z=Object(n.useState)(""),X=Object(x.a)(z,2),C=X[0],M=X[1],E=function(){S.length>0&&(S[S.length-1].setMap(null),S.length-=1),w.length>0&&(w[w.length-1].setMap(null),w.length-=1);var e=y();e.length>0&&(e.length-=1),localStorage.setItem("markers",JSON.stringify(e))},G=function(){S.length>0&&window.confirm("\u5730\u70b9\u3092\u5168\u90e8\u6d88\u53bb\u3057\u307e\u3059\u3002\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f")&&(S.forEach((function(e){return e.setMap(null)})),S.length=0,w.forEach((function(e){return e.setMap(null)})),w.length=0,localStorage.setItem("markers","[]"))},J=function(){var e=Object(p.a)(O.a.mark((function e(){var t,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==S.length){e.next=3;break}return alert("\u5730\u70b9\u30921\u3064\u4ee5\u4e0a\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044"),e.abrupt("return");case 3:if(""!==a){e.next=6;break}return alert("\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044"),e.abrupt("return");case 6:return e.prev=6,e.next=9,m.a.post("api/generateGpx",{title:a,speed:o,markers:S.map((function(e){return e.getPosition()}))});case 9:t=e.sent,"saved"===(c=t.data)?alert("\u6210\u529f\u3057\u307e\u3057\u305f"):(M(c),P(!0)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(6),console.error(e.t0),alert("error");case 18:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){r(localStorage.getItem("title")||""),j(localStorage.getItem("speed")||"bicycle"),Object(p.a)(O.a.mark((function e(){var t,c,n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new v.a({apiKey:N}).load();case 3:window.google=e.sent,t=k,(c=localStorage.getItem("zoom"))&&(t.zoom=Number(c)),(n=localStorage.getItem("center"))&&(t.center=JSON.parse(n)),(a=new google.maps.Map(document.getElementById("map"),Object(h.a)(Object(h.a)({},t),{},{draggableCursor:"crosshair"}))).addListener("zoom_changed",(function(){localStorage.setItem("zoom",String(a.getZoom()))})),a.addListener("center_changed",(function(){var e=a.getCenter();e&&localStorage.setItem("center",JSON.stringify(e.toJSON()))})),a.addListener("click",(function(e){var t=e.latLng;I(a,t);var c=y();c.push(t.toJSON()),localStorage.setItem("markers",JSON.stringify(c))})),y().forEach((function(e){I(a,new google.maps.LatLng(e))})),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0),alert("error");case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))();var t=e.current;t&&t.focus()}),[]),Object(d.jsxs)("div",{ref:e,tabIndex:0,onKeyDown:function(e){return"s"===e.key&&e.metaKey?(J(),e.preventDefault(),!1):"z"===e.key&&e.metaKey&&e.shiftKey?(G(),e.preventDefault(),!1):"z"===e.key&&e.metaKey?(E(),e.preventDefault(),!1):void 0},children:[Object(d.jsx)("div",{id:"map"}),Object(d.jsxs)("div",{className:"control-container",children:[Object(d.jsxs)("div",{className:"control",children:[Object(d.jsx)("label",{htmlFor:"title",children:"\u30bf\u30a4\u30c8\u30eb:"}),Object(d.jsx)("input",{id:"title",onChange:function(e){var t=e.target.value;r(t),localStorage.setItem("title",t)},value:a})]}),Object(d.jsxs)("div",{className:"control",children:[Object(d.jsx)("label",{htmlFor:"speed",children:"\u901f\u5ea6:"}),Object(d.jsxs)("select",{id:"speed",onChange:function(e){var t=e.target.value;j(t),localStorage.setItem("speed",t)},value:o,children:[Object(d.jsx)("option",{value:"walk",children:"\u5f92\u6b69"}),Object(d.jsx)("option",{value:"bicycle",children:"\u81ea\u8ee2\u8eca"}),Object(d.jsx)("option",{value:"car",children:"\u4e57\u7528\u8eca"})]})]}),Object(d.jsxs)("button",{className:"control",onClick:function(){localStorage.removeItem("zoom"),localStorage.removeItem("center"),window.location.reload()},children:[Object(d.jsx)(i.a,{className:"icon",icon:f.b}),Object(d.jsx)("span",{children:"\u521d\u671f\u5730\u70b9\u8868\u793a"})]}),Object(d.jsxs)("button",{className:"control",onClick:E,children:[Object(d.jsx)(i.a,{className:"icon",icon:f.d}),Object(d.jsx)("span",{children:"\u4e00\u3064\u623b\u3059(\u2318 + z)"})]}),Object(d.jsxs)("button",{className:"control",onClick:G,children:[Object(d.jsx)(i.a,{className:"icon",icon:f.a}),Object(d.jsx)("span",{children:"\u30ea\u30bb\u30c3\u30c8(\u2318 + shift + z)"})]}),Object(d.jsxs)("button",{className:"control",onClick:J,children:[Object(d.jsx)(i.a,{className:"icon",icon:f.c}),Object(d.jsx)("span",{children:"\u751f\u6210\u3059\u308b(\u2318 + s)"})]})]}),g&&Object(d.jsx)("div",{className:"dialog-container",children:Object(d.jsxs)("div",{className:"dialog",children:[Object(d.jsxs)("div",{className:"dialog-header",children:[Object(d.jsx)("span",{className:"dialog-title",children:"GPX\u751f\u6210\u7d50\u679c"}),Object(d.jsx)("button",{className:"dialog-btn-close",onClick:function(){P(!1)},children:"\u9589\u3058\u308b"})]}),Object(d.jsx)("div",{className:"dialog-content",children:Object(d.jsx)("pre",{children:C})}),Object(d.jsx)("div",{className:"dialog-footer",children:Object(d.jsx)("button",{className:"dialog-btn-download",onClick:function(){var e=document.createElement("a");e.href=URL.createObjectURL(new Blob([C])),e.download="".concat(a,".gpx"),e.click()},children:"\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u4fdd\u5b58"})})]})})]})}function z(){return Object(d.jsxs)("div",{className:"usage",children:[Object(d.jsx)("h1",{children:"\u4f7f\u3044\u65b9"}),Object(d.jsx)("p",{children:"\u30fbGPX\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc for Xcode\u3067\u306f\u3001GoogleMap\u4e0a\u3067\u7e4b\u3044\u3060\u70b9\u3092\u7d30\u304b\u304f\u5206\u5272\u3057\u3001\u5ea7\u6a19\u4e00\u89a7\u3068\u3057\u305fGPX\u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"}),Object(d.jsx)("p",{children:"\u30fbwpt\u5f62\u5f0f\u3067\u51fa\u529b\u3059\u308b\u305f\u3081\u3001Xcode+iOS\u7aef\u672b\u3067\u306e\u4f4d\u7f6e\u60c5\u5831\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u6642\u306b\u5229\u7528\u3067\u304d\u307e\u3059\u3002"}),Object(d.jsx)("hr",{}),Object(d.jsx)("h2",{children:"\u6e96\u5099\u4e2d(\u73fe\u5728\u7c21\u6613\u7684\u306a\u8aac\u660e\u306b\u306a\u3063\u3066\u3044\u307e\u3059)"}),Object(d.jsx)("hr",{}),Object(d.jsx)("h2",{children:"\u301c\u57fa\u672c\u4e8b\u9805\u301c"}),Object(d.jsx)("p",{children:"\u30fbPC\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3066\u304f\u3060\u3055\u3044(\u30b9\u30de\u30db\u975e\u5bfe\u5fdc)"}),Object(d.jsx)("hr",{}),Object(d.jsx)("h2",{children:"\u301cGPX\u30d5\u30a1\u30a4\u30eb\u306e\u751f\u6210\u301c"}),Object(d.jsx)("p",{children:"\u30fb1.\u5730\u56f3\u4e0a\u306b\u3044\u304f\u3064\u304b\u30de\u30fc\u30ab\u30fc\u3092\u7f6e\u304f"}),Object(d.jsx)("p",{children:"\u30fb2.\u300c\u751f\u6210\u3059\u308b\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3059"}),Object(d.jsx)("p",{children:"\u30fb3.\u7f6e\u3044\u305f\u30de\u30fc\u30ab\u30fc\u306e\u9593\u3092(\u901f\u5ea6\u306b\u5fdc\u3058\u3066)\u7d30\u304b\u304f\u5206\u5272\u3057\u305f\u5ea7\u6a19\u4e00\u89a7\u304c\u51fa\u529b\u3055\u308c\u308b"}),Object(d.jsx)("p",{children:"\u30fb4.\u300c\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u4fdd\u5b58\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3059"}),Object(d.jsx)("hr",{}),Object(d.jsx)("h2",{children:"\u301cXcode+iOS\u7aef\u672b\u3067\u4f4d\u7f6e\u60c5\u5831\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3059\u308b\u301c"}),Object(d.jsx)("p",{children:"\u30fb1.Team\u306e\u9078\u629e\u304c\u5fc5\u9808\u306a\u306e\u3067\u958b\u767a\u8005\u767b\u9332\u304c\u5fc5\u8981(\u300cXcode \u958b\u767a\u8005\u767b\u9332\u300d\u306a\u3069\u3067\u691c\u7d22)"}),Object(d.jsx)("p",{children:"\u30fb2.Mac\u3067Xcode\u3092\u958b\u304f"}),Object(d.jsx)("p",{children:"\u30fb3.File \u2192 New \u2192 Project \u2192 App"}),Object(d.jsx)("p",{children:"\u30fb4.\u9069\u5f53\u306aProductName\u3092\u3064\u3051\u308b"}),Object(d.jsx)("p",{children:"\u30fb5.\u958b\u767a\u8005\u767b\u9332\u3057\u305fTeam\u3092\u9078\u629e"}),Object(d.jsx)("p",{children:"\u30fb6.iOS\u5b9f\u6a5f\u3092USB\u3067Mac\u306b\u63a5\u7d9a\u3059\u308b"}),Object(d.jsx)("p",{children:"\u30fb7.\u753b\u9762\u4e0a\u306e\u30c7\u30d0\u30a4\u30b9\u9078\u629e\u6b04\u3067\u63a5\u7d9a\u3057\u305f\u7aef\u672b\u3092\u9078\u629e"}),Object(d.jsx)("p",{children:"\u30fb8.\u753b\u9762\u5de6\u4e0a\u306e\u518d\u751f\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u5b9f\u6a5f\u3067\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u304c\u5b9f\u884c\u3055\u308c\u308b"}),Object(d.jsx)("p",{children:"\u30fb9.\u305d\u306e\u72b6\u614b\u3067 Debug \u2192 Simulate Lodcation \u2192 Add GPX Exchange to Project \u3092\u9078\u629e"}),Object(d.jsx)("p",{children:"\u30fb10.\u751f\u6210\u3057\u305fGPX\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3093\u3067\u9078\u629e\u3059\u308b"}),Object(d.jsx)("p",{children:"\u30fb11.iOS\u4e0a\u3067\u5225\u30a2\u30d7\u30ea(\u30de\u30c3\u30d7\u306a\u3069)\u3092\u958b\u3044\u305f\u6642\u3082\u9078\u629e\u3057\u305f\u901f\u5ea6\u3067\u73fe\u5728\u4f4d\u7f6e\u304c\u79fb\u52d5\u3059\u308b"}),Object(d.jsx)("p",{children:"\u30fb12.\u79fb\u52d5\u6642\u306e\u30c6\u30b9\u30c8\u306a\u3069\u306b\u5229\u7528\u3067\u304d\u308b(\u4fbf\u5229\u3060\u306d\u266a)"})]})}c(66);function X(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)(l.a,{children:[Object(d.jsx)(b,{}),Object(d.jsx)(o.a,{exact:!0,path:"/",component:P}),Object(d.jsx)(o.a,{exact:!0,path:"/usage",component:z})]})})}s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(X,{})}),document.getElementById("root"))}},[[67,1,2]]]);